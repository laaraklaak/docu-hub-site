<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOCU-HUB | Contract & Compliance</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: { 50: '#f8fafc', 800: '#1e293b', 900: '#1a202c' },
                        brand: {
                            navy: '#0f172a',
                            gold: '#fbbf24',
                        }
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                        serif: ['Playfair Display', 'serif']
                    }
                }
            }
        }
    </script>
    <style>
        .step-circle { width: 3rem; height: 3rem; display: flex; align-items: center; justify-content: center; border-radius: 9999px; font-weight: bold; flex-shrink: 0; }
        .touch-target { min-height: 44px; display: inline-flex; align-items: center; }
        .site-logo { max-height: 32px; width: auto; }
        
        /* Smooth transition for the unlock effect */
        #final-btn { transition: all 0.3s ease-in-out; }
        
        /* Checkbox Styling */
        .custom-checkbox { width: 1.25rem; height: 1.25rem; border-radius: 0.25rem; cursor: pointer; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased flex flex-col min-h-screen">

    <header class="bg-white shadow-sm border-b border-slate-200 sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <img src="images/logo.png" alt="Docu-Hub Logo" class="site-logo">
                <span class="font-bold text-xl text-brand-navy">DOCU<span class="text-brand-gold">.</span>HUB</span>
            </div>
            <a href="index.html" class="text-sm font-bold text-slate-600 hover:text-amber-600 transition touch-target">
                &larr; Back Home
            </a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12 max-w-4xl flex-grow">
        
        <div class="text-center mb-12">
            <span id="service-badge" class="bg-amber-100 text-amber-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider mb-4 inline-block">
                Compliance & Contracting
            </span>
            <h1 class="text-3xl md:text-5xl font-bold text-brand-navy mb-6 font-serif">Master Client Contract</h1>
            <p class="text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed">
                To comply with Jamaican Data Protection & POCA regulations, we require a <strong>witnessed signature</strong> before we can process your documents.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
            
            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10"><i data-lucide="download" class="w-16 h-16"></i></div>
                <div class="step-circle bg-brand-navy text-white mb-4">1</div>
                <h3 class="font-bold text-lg mb-2">Download & Review</h3>
                <p class="text-sm text-slate-600 mb-6">
                    Includes the <strong>Privacy Notice</strong> & <strong>Data Consent</strong> terms. Open in a new window.
                </p>
                
                <a id="contract-dl-btn" href="master-agreement.html" target="_blank" class="inline-flex items-center gap-2 text-amber-700 font-bold hover:underline touch-target cursor-pointer">
                    <i data-lucide="file-text" class="w-4 h-4"></i> Open Contract (Required)
                </a>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10"><i data-lucide="pen-tool" class="w-16 h-16"></i></div>
                <div class="step-circle bg-amber-500 text-slate-900 mb-4">2</div>
                <h3 class="font-bold text-lg mb-2">Sign & Witness</h3>
                <p class="text-sm text-slate-600 mb-6">You sign. A JP (Justice of the Peace) signs & stamps. See the sample below.</p>
                <a href="#visual-guide" class="inline-flex items-center gap-2 text-amber-700 font-bold hover:underline touch-target">
                    <i data-lucide="eye" class="w-4 h-4"></i> View Sample
                </a>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10"><i data-lucide="shield-check" class="w-16 h-16"></i></div>
                <div class="step-circle bg-green-600 text-white mb-4">3</div>
                <h3 class="font-bold text-lg mb-2">Safe Upload</h3>
                <p class="text-sm text-slate-600 mb-6">
                    <strong>Do not upload yet.</strong><br>
                    Once you confirm your digital consent below, we will send you a <strong>Secure Upload Link</strong>.
                </p>
                <div class="text-green-700 font-bold text-xs flex items-center gap-1">
                    <i data-lucide="lock" class="w-3 h-3"></i> Scan & Shred Protocol
                </div>
            </div>
        </div>

        <section id="visual-guide" class="bg-slate-200 rounded-2xl p-8 mb-16 text-center">
            <h2 class="text-2xl font-bold text-slate-900 mb-6 font-serif">Where do I sign?</h2>
            
            <div class="bg-white rounded-lg shadow-lg border border-slate-300 max-w-md mx-auto p-4 relative">
                <div class="border-2 border-dashed border-slate-300 h-64 flex flex-col items-center justify-center relative">
                    <span class="text-slate-400 text-sm font-bold uppercase mb-4">Contract Page 3</span>
                    <div class="w-3/4 border-b border-slate-800 mb-8 relative">
                        <span class="absolute -top-6 left-0 text-xs text-red-600 font-bold flex items-center gap-1">
                            <i data-lucide="arrow-down" class="w-4 h-4"></i> YOU SIGN HERE
                        </span>
                    </div>
                    <div class="w-3/4 border-b border-slate-800 relative">
                        <span class="absolute -top-6 right-0 text-xs text-blue-600 font-bold flex items-center gap-1">
                            JP STAMPS HERE <i data-lucide="arrow-down" class="w-4 h-4"></i>
                        </span>
                    </div>
                </div>
                <p class="text-xs text-slate-500 mt-2 italic">Show this image to your JP if they are unsure.</p>
            </div>
        </section>

        <div class="max-w-xl mx-auto mb-8 bg-blue-50 border border-blue-200 p-6 rounded-lg">
            <h4 class="font-bold text-brand-navy mb-4 flex items-center gap-2">
                <i data-lucide="check-circle" class="w-5 h-5 text-blue-600"></i> Digital Compliance Declaration
            </h4>
            
            <div class="space-y-4">
                <label class="flex items-start gap-3 cursor-pointer">
                    <input type="checkbox" id="term-check" class="custom-checkbox mt-1 accent-blue-600">
                    <span class="text-sm text-slate-700">
                        <strong>(Required)</strong> I have read the Master Contract. I explicitly consent to Docu-Hub processing my data and sharing it with relevant government agencies (TAJ/NIS/RGD) for my application.
                    </span>
                </label>

                <label class="flex items-start gap-3 cursor-pointer">
                    <input type="checkbox" id="market-check" class="custom-checkbox mt-1 accent-amber-500">
                    <span class="text-sm text-slate-700">
                        <strong>(Optional)</strong> Keep me updated! Send me WhatsApp/Email alerts about job openings, resume tips, and new service discounts.
                    </span>
                </label>
            </div>
        </div>

        <div class="text-center sticky bottom-6 z-40 px-4">
            <a id="final-btn" href="#" class="bg-slate-400 text-slate-100 font-bold py-4 px-8 md:px-12 rounded-full shadow-lg inline-flex items-center gap-2 pointer-events-none opacity-75">
                <i id="btn-icon" data-lucide="lock" class="w-5 h-5"></i>
                <span id="btn-text">Open Contract & Check Box to Unlock</span>
            </a>
            <p id="error-msg" class="text-xs text-red-500 font-bold mt-2 hidden">Please open the contract AND check the required box.</p>
        </div>

    </main>

    <footer class="bg-brand-navy text-white py-12 border-t border-slate-700 font-sans mt-auto">
        <div class="container mx-auto px-4 text-center">
            
            <div class="mb-8">
                <p class="font-bold text-white mb-2">&copy; <script>document.write(new Date().getFullYear())</script> Docu-Hub Operations Services.</p>
                <p class="text-xs text-blue-100">Official Business. No Runaround.</p>
            </div>

            <div class="flex justify-center gap-3 flex-wrap mb-8">
                <span class="bg-white text-brand-navy text-[10px] font-bold px-2 py-1 rounded border border-slate-200 uppercase tracking-wider">
                    <span class="text-amber-600">JDPA</span> COMPLIANT
                </span>
                <span class="bg-white text-brand-navy text-[10px] font-bold px-2 py-1 rounded border border-slate-200 uppercase tracking-wider">
                    POCA PROTOCOLS ACTIVE
                </span>
            </div>

            <div class="flex justify-center gap-6 text-sm">
                <a href="privacy.html" class="text-white hover:text-brand-gold transition">Privacy Policy</a>
                <span class="text-slate-500">|</span>
                <a href="legal-notice.html" class="text-white hover:text-brand-gold transition">Legal Notice</a>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // 1. Base Variables
        let baseMsg = "Greetings Docu-Hub. I am a NEW CLIENT.";
        let serviceName = "";
        
        // 2. State Tracking
        let isContractOpened = false;
        
        // 3. Elements
        const contractBtn = document.getElementById('contract-dl-btn');
        const finalBtn = document.getElementById('final-btn');
        const btnText = document.getElementById('btn-text');
        const badge = document.getElementById('service-badge');
        
        // Compliance Elements
        const termCheck = document.getElementById('term-check');
        const marketCheck = document.getElementById('market-check');
        const errorMsg = document.getElementById('error-msg');

        // 4. Initialize
        document.addEventListener('DOMContentLoaded', function() {
            const params = new URLSearchParams(window.location.search);
            const serviceKey = params.get('service');
            
            const services = {
                'job_seeker': 'Job Seeker Bundle',
                'transport': 'Tax & Transport Bundle',
                'vital_records': 'Vital Records (RGD)',
                'recovery': 'Hurricane Mellisa Recovery'
            };

            if (serviceKey && services[serviceKey]) {
                serviceName = services[serviceKey];
                badge.innerText = `Application for: ${serviceName}`;
                badge.classList.remove('bg-amber-100', 'text-amber-800');
                badge.classList.add('bg-blue-100', 'text-blue-900');
                baseMsg = `Greetings Docu-Hub. I am a NEW CLIENT interested in the *${serviceName}*.`;
            } else {
                baseMsg = "Greetings Docu-Hub. I am a NEW CLIENT.";
            }
        });

        // 5. Update WhatsApp Link Logic
        function updateLink() {
            // Determine Marketing Status
            const marketingStatus = marketCheck.checked ? "YES" : "NO";
            
            // Build the compliant message
            // "I have reviewed the contract... Marketing Opt-In: YES/NO"
            const finalMsg = `${baseMsg} I have downloaded the Master Contract and I accept the Data Processing terms. [Marketing Opt-In: ${marketingStatus}]. I am ready to book.`;
            
            const waUrl = `https://wa.me/18765612614?text=${encodeURIComponent(finalMsg)}`;
            
            // Apply to button
            finalBtn.href = waUrl;
            finalBtn.setAttribute('target', '_blank');
        }

        // 6. The "Unlock" Checker
        function checkUnlock() {
            updateLink(); // Ensure link is fresh

            if (isContractOpened && termCheck.checked) {
                // UNLOCK
                finalBtn.classList.remove('bg-slate-400', 'text-slate-100', 'pointer-events-none', 'opacity-75');
                finalBtn.classList.add('bg-green-600', 'text-white', 'hover:bg-green-500', 'hover:scale-105', 'transform', 'border-b-4', 'border-green-800', 'shadow-2xl');
                btnText.innerText = "I Understand - Book on WhatsApp";
                errorMsg.classList.add('hidden');
            } else {
                // LOCK
                finalBtn.classList.add('bg-slate-400', 'text-slate-100', 'pointer-events-none', 'opacity-75');
                finalBtn.classList.remove('bg-green-600', 'text-white', 'hover:bg-green-500', 'hover:scale-105', 'shadow-2xl', 'border-b-4', 'border-green-800');
                
                if(isContractOpened && !termCheck.checked) {
                    btnText.innerText = "Check the 'Required' Box above";
                } else {
                    btnText.innerText = "Open Contract & Check Box to Unlock";
                }
            }
        }

        // 7. Event Listeners
        contractBtn.addEventListener('click', function() {
            isContractOpened = true;
            checkUnlock();
        });

        termCheck.addEventListener('change', checkUnlock);
        marketCheck.addEventListener('change', updateLink); // Just updates the text, doesn't unlock

        // 8. Safety Click Block (Double Check)
        finalBtn.addEventListener('click', function(e) {
            if (!isContractOpened || !termCheck.checked) {
                e.preventDefault();
                errorMsg.classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
